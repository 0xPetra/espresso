<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Address Book"><meta name="keywords" content="rust, rustlang, rust-lang, address_book"><title>address_book - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../address_book/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../address_book/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate address_book</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../address_book/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">address_book</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/address_book/lib.rs.html#6-164">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><!--
 ~ Copyright (c) 2022 Espresso Systems (espressosys.com)
 -->
<h2 id="address-book"><a href="#address-book">Address Book</a></h2>
<p>The Espresso Address Book maps user addresses to encryption public
keys. Users publish their encryption public keys here. This is done by
submitting their UserPubKey bundle (that includes both address and
encryption public key) and signing the request using the user private
key associated with the address. This way, it is infeasible to publish
an invalid encryption key for a user.</p>
<p>This public mapping allows a sender to retrieve the encryption key
associated with the recipient address. This is particularly important
for the freezing feature: when the freezer releases records back to
the original owners, it needs to know their encryption keys in order
to produce owner memos for them.</p>
<p>The Address Book is a standalone web service.</p>
<p>The port defaults to 50078, but can be overridden at startup by
setting the environment variable ESPRESSO_ADDRESS_BOOK_PORT.</p>
<p><strong>POST</strong> insert_pubkey - Insert or update the public key at the given address.</p>
<p><strong>POST</strong> request_pubkey - Fetch the public key for the given address. If
not found, return StatusCode::NotFound.</p>
<p>See <code>tests/tests.rs</code> for usage examples.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="error/index.html" title="address_book::error mod">error</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="signal/index.html" title="address_book::signal mod">signal</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="store/index.html" title="address_book::store mod">store</a></div><div class="item-right docblock-short"></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Args.html" title="address_book::Args struct">Args</a></div><div class="item-right docblock-short"><p>Command line arguments</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InsertPubKey.html" title="address_book::InsertPubKey struct">InsertPubKey</a></div><div class="item-right docblock-short"><p>Structure to supply parameters to web requests</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ServerState.html" title="address_book::ServerState struct">ServerState</a></div><div class="item-right docblock-short"><p>Web server state</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AppKey.html" title="address_book::AppKey enum">AppKey</a></div><div class="item-right docblock-short"><p>Lookup keys for application-specific configuration settings</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.APP_NAME.html" title="address_book::APP_NAME constant">APP_NAME</a></div><div class="item-right docblock-short"><p>Application name used for locating configuration files</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.eq_header_values.html" title="address_book::eq_header_values fn">eq_header_values</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.init_web_server.html" title="address_book::init_web_server fn">init_web_server</a></div><div class="item-right docblock-short"><p>Initialize the web server</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.insert_pubkey.html" title="address_book::insert_pubkey fn">insert_pubkey</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.verify_sig_and_get_pub_key.html" title="address_book::verify_sig_and_get_pub_key fn">verify_sig_and_get_pub_key</a></div><div class="item-right docblock-short"><p>Lookup a user public key from a signed public key address.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Result.html" title="address_book::Result type">Result</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="address_book" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0 (a55dd71d5 2022-09-19)" ></div></body></html>